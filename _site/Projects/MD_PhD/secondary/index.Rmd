---
title: "Secondary"
output: 
  html_document:
    toc: true
    toc_float: true
    theme: sandstone
---
<body style="background-color:MintCream;">

<h3 style="text-align:center;font-size:185%;">[Home](https://pbischoff3.github.io/)  |  [Conferences](https://pbischoff3.github.io/Conferences) | [R Projects](https://pbischoff3.github.io/Projects)   |   [Publications](https://pbischoff3.github.io/Publications)  |  [Medical Hours](https://pbischoff3.github.io/Hours)</h3>

<h4 style="text-align:center;font-size:170%;">[MD PhD](https://pbischoff3.github.io/Projects/MD_PhD) | [BIOL 3100 Final](https://pbischoff3.github.io/Projects/BIOL_3100) </h4>

<h5 style="text-align:center;font-size:150%;">[Initial](https://pbischoff3.github.io/Projects/MD_PhD/initial) | [Secondary](https://pbischoff3.github.io/Projects/secondary) </h5>


```{r LAbels, include=FALSE}
library(dplyr)
library(janitor)
library(stringr)
library(readr)
library(ggplot2)
library(leaflet)
library(sf)
library(viridis)
library(htmltools)
library(stringr)
library(reshape2)
library(plotly)
library(gapminder)


my_df <- read.csv("../../MD_PhD/cleaned.csv")
```


## {.tabset}

### Research vs. Primary Care
```{r echo=FALSE}
p <- ggplot(my_df, aes(x= research_rank, y= primary_care_rank, label=short_name, color=temple))+
  geom_point()+
  geom_text(hjust=0, vjust=0)

ggplotly(p)

# add distance research and primary care
my_df$school_rank <- sqrt(((my_df$research_rank)^2)+((my_df$primary_care_rank)^2))
keeps <- c("short_name","school_rank")
temp2 = my_df[keeps]

top50 <- temp2 %>% 
  arrange(school_rank) %>% 
  slice(1:50)
top50
```
This is an exploration of the data. What I did here was visualize the data in a cartesian coordinate system, with research and primary care rank being on the x and y systems. This helped me visualize how the two relate. 

<br>

With this, I wanted to see which of the schools was "closest" to 0, as that would be the one that is absolute best. I took the square root of each the research rank squared and primary care rank squared. According to pygathorean theory, this will give the length of the line from "0,0". The smaller the number, the better the combined ranks. 

<br>

According to this, **Cal San Fran** is the best school, according to the combination of research and primary care.

### Research and Temple Distance
Ultimately, I love research and I love the temple. I think that these are the two biggest things I hope to consider. Let's explore the two together, similar to the last one. 
```{r echo=FALSE}
p <- ggplot(my_df, aes(x= research_rank, y= distance_to_temple_mi, label=short_name))+
  geom_point()+
  geom_text(hjust=0, vjust=0)

ggplotly(p)
```
This plot explores research rank and distance to the temple, with the closer one is to zero being the better result. I need to run a similar square root assessment as before.
<br>

```{r echo=FALSE}
my_df$temple_research <- sqrt(((my_df$research_rank)^2)+((my_df$distance_to_temple_mi)^2))
keeps <- c("short_name","temple_research")
temp2 = my_df[keeps]

top50 <- temp2 %>% 
  arrange(temple_research) %>% 
  slice(1:50)
top50
```
Awesome, another analysis down. With this, we can be assured that **NYU** is the best for research and temple distance. 


### Research and MCAT Score
I am sure there is, but my next thought was what the correlation looked like between research rank and MCAT score. A simple plot should show this information to me. 

<br>

```{r echo=FALSE}
p <- ggplot(my_df, aes(x= research_rank, y= mcat_total_score, label=short_name))+
  geom_point()+
  geom_text(hjust=0, vjust=0)

ggplotly(p)
```

Alright, based on that alone, the regression seems super strong. I don't need much more statistical analysis. This just shows that if I want to go to a high level research university, I have to have a great MCAT score. 

### Research and Total Admittance
```{r echo=FALSE}
my_df$weighted_admit <- ((100/my_df$admittance_year)*100)

p <- ggplot(my_df, aes(x= research_rank, y= weighted_admit, label=short_name))+
  geom_point()+
  geom_text(hjust=0, vjust=0)

ggplotly(p)

```
This plot is hard to read. Let's look at it graphically. 
<br>

```{r echo=FALSE}
my_df$admit_research <- sqrt(((my_df$research_rank)^2)+((my_df$weighted_admit)^2))
keeps <- c("short_name","admit_research")
temp2 = my_df[keeps]

top50 <- temp2 %>% 
  arrange(admit_research) %>% 
  slice(1:50)
top50
```
Well cool. **Washington** has the highest number of admittance versus research rank in the nation. 


### Research and MD/PhD
Now we copy almost exactly what we studied before, except this time, we are only looking into the number of MD/PhD students admitted versus their MCAT score. 
```{r echo=FALSE}
my_df$weighted_padmit <- ((100/my_df$md_ph_d_year_last_3_years))

p <- ggplot(my_df, aes(x= research_rank, y= weighted_padmit, label=short_name))+
  geom_point()+
  geom_text(hjust=0, vjust=0)

ggplotly(p)
```
<br>
And a table to understand this better:
<br>
```{r echo=FALSE}
my_df$padmit_research <- sqrt(((my_df$research_rank)^2)+((my_df$weighted_padmit)^2))
keeps <- c("short_name","padmit_research")
temp2 = my_df[keeps]

top50 <- temp2 %>% 
  arrange(padmit_research) %>% 
  slice(1:50)
top50
```
As **Harvard** is the closest one to zero, it has the highest number of MD/PhD students according to the highest research rank. 

### Primary Care and Temple Distance

```{r echo=FALSE}
p <- ggplot(my_df, aes(x= primary_care_rank, y= distance_to_temple_mi, label=short_name))+
  geom_point()+
  geom_text(hjust=0, vjust=0)

ggplotly(p)
```
This plot explores primary care rank and distance to the temple, with the closer one is to zero being the better result. I need to run a similar square root assessment as before.
<br>

```{r echo=FALSE}
my_df$temple_care <- sqrt(((my_df$primary_care_rank)^2)+((my_df$distance_to_temple_mi)^2))
keeps <- c("short_name","temple_care")
temp2 = my_df[keeps]

top50 <- temp2 %>% 
  arrange(temple_care) %>% 
  slice(1:50)
top50
```
Awesome, another analysis down. With this, we can be assured that **Oregon** is the best school regarding only Primary care Rank and Temple Distance.

### Primary care and MCAT Score

My next thought was what the correlation looked like between primary care rank and MCAT score. A simple plot should show this information to me. 

<br>

```{r echo=FALSE}
p <- ggplot(my_df, aes(x= primary_care_rank, y= mcat_total_score, label=short_name))+
  geom_point()+
  geom_text(hjust=0, vjust=0)

ggplotly(p)
```

Alright, based on that alone, there is not much correlation. Interesting, as you would think that higher ranked hospitals for care would correlate to higher MCAT scores. 

### Primary Care and Total Admittance

```{r echo=FALSE}
my_df$weighted_admit <- ((100/my_df$admittance_year)*100)

p <- ggplot(my_df, aes(x= primary_care_rank, y= weighted_admit, label=short_name))+
  geom_point()+
  geom_text(hjust=0, vjust=0)

ggplotly(p)

```
This plot is hard to read. Let's look at it graphically. 
<br>

```{r echo=FALSE}
my_df$admit_care <- sqrt(((my_df$primary_care_rank)^2)+((my_df$weighted_admit)^2))
keeps <- c("short_name","admit_care")
temp2 = my_df[keeps]

top50 <- temp2 %>% 
  arrange(admit_care) %>% 
  slice(1:50)
top50
```
Well cool. **Washington** has the highest number of admittance versus primary care rank in the nation. 

### Primary Care and MD/PhD